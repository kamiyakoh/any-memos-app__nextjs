"use strict";(self.webpackChunkany_memos_app_nextjs=self.webpackChunkany_memos_app_nextjs||[]).push([[890],{"./src/app/_components/stories/FrostedGlass.stories.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{Memo:()=>FrostedGlass_stories_Memo,Normal:()=>Normal,SortBoard:()=>SortBoard,__namedExportsOrder:()=>__namedExportsOrder,default:()=>FrostedGlass_stories});var jsx_runtime=__webpack_require__("./node_modules/next/dist/compiled/react/jsx-runtime.js"),dist=__webpack_require__("./node_modules/@storybook/test/dist/index.mjs"),react=__webpack_require__("./node_modules/next/dist/compiled/react/index.js"),es=__webpack_require__("./node_modules/recoil/es/index.js"),FrostedGlass=__webpack_require__("./src/app/_components/uiParts/FrostedGlass.tsx"),_utils_const=__webpack_require__("./src/app/_utils/const.ts"),Button=__webpack_require__("./src/app/_components/uiParts/Button.tsx"),DiffDays=__webpack_require__("./src/app/_components/DiffDays.tsx"),Edit=__webpack_require__("./src/app/_components/Edit.tsx"),Modal=__webpack_require__("./src/app/_components/uiParts/Modal.tsx"),WeekDayJa=__webpack_require__("./src/app/_components/uiParts/WeekDayJa.tsx"),react_hot_toast_dist=__webpack_require__("./node_modules/react-hot-toast/dist/index.mjs"),core=__webpack_require__("./node_modules/swr/dist/core/index.mjs"),useLogin=__webpack_require__("./src/app/_hooks/useLogin.ts"),clientAxiosInstance=__webpack_require__("./src/app/_utils/clientAxiosInstance.ts");var date=__webpack_require__("./src/app/_utils/date.ts");const Memo=param=>{let{memo,currentIdOpenDel,setCurrentIdOpenDel}=param;const[isOpen,setIsOpen]=(0,react.useState)(!1),{openDel,closeDel,delMemo,textFormatBr}=(setCurrentIdOpenDel=>{const{mutate}=(0,core.iX)(),{handle401}=(0,useLogin.v)();return{openDel:(0,react.useCallback)((id=>{setCurrentIdOpenDel(id)}),[setCurrentIdOpenDel]),closeDel:(0,react.useCallback)((()=>{setCurrentIdOpenDel("")}),[setCurrentIdOpenDel]),delMemo:(0,react.useCallback)((async id=>{try{const res=await clientAxiosInstance.H.delete("/api/memo/".concat(id));if(200===res.status){await mutate("/api/memos"),setCurrentIdOpenDel("");const{title,category}=res.data;(0,react_hot_toast_dist.Ay)("„Çø„Ç§„Éà„É´: ".concat(title,"\n").concat(""!==category?"„Ç´„ÉÜ„Ç¥„É™„Éº:"+category+"\n":"","„ÅÆ„É°„É¢„ÇíÂâäÈô§„Åó„Åæ„Åó„Åü"),{icon:"üöÆ"})}else if(401===res.status)handle401();else if(400===res.status){const responseError=res.data;react_hot_toast_dist.Ay.error(responseError.errorMessage)}}catch(error){react_hot_toast_dist.Ay.error("„É°„É¢„ÅÆÂâäÈô§„Å´Â§±Êïó„Åó„Åæ„Åó„Åü")}}),[mutate,setCurrentIdOpenDel,handle401]),textFormatBr:(0,react.useCallback)((text=>""===text||null===text?"":text.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#039;").replace(/\n/g,"<br>")),[])}})(setCurrentIdOpenDel);return(0,jsx_runtime.jsxs)(FrostedGlass.w,{className:"flex flex-col justify-between break-words whitespace-pre-wrap w-full md:w-[calc(50%_-_0.5rem)]",children:[(0,jsx_runtime.jsxs)("div",{className:"space-y-2",children:[(0,jsx_runtime.jsx)("div",{className:"flex gap-x-2",children:(0,jsx_runtime.jsxs)("h2",{children:["IDÔºö ",memo.id]})}),(0,jsx_runtime.jsxs)("h2",{children:["„Çø„Ç§„Éà„É´Ôºö ",memo.title]}),(0,jsx_runtime.jsxs)("p",{children:["„Ç´„ÉÜ„Ç¥„É™„ÉºÔºö ",memo.category]}),(0,jsx_runtime.jsxs)("div",{className:"flex flex-wrap gap-x-2",children:[(0,jsx_runtime.jsx)("p",{children:"Ë©≥Á¥∞Ë™¨ÊòéÔºö"}),(0,jsx_runtime.jsx)("div",{className:"max-w-full",dangerouslySetInnerHTML:{__html:textFormatBr(memo.description)}})]}),(0,jsx_runtime.jsxs)("p",{children:["ÊúüÈôêÊó•ÊôÇÔºö ",(0,date.sS)(memo.date).format("YYYY/MM/DD"),"¬†",(0,jsx_runtime.jsx)(WeekDayJa.E,{date:memo.date,isModal:!1}),"¬†",(0,jsx_runtime.jsx)(DiffDays.j,{date:memo.date,isModal:!1})]}),1===memo.markDiv&&(0,jsx_runtime.jsx)("span",{className:"block text-4xl font-extrabold",style:{lineHeight:1},children:"‚òÖ"})]}),(0,jsx_runtime.jsxs)("div",{className:"flex justify-between mt-4",children:[isOpen?(0,jsx_runtime.jsx)("div",{}):(0,jsx_runtime.jsx)(Button.$,{type:"button",className:"bg-green-600 hover:bg-green-700",onClick:()=>{setIsOpen(!0)},children:"Á∑®ÈõÜ"}),(0,jsx_runtime.jsx)("div",{children:currentIdOpenDel===memo.id?(0,jsx_runtime.jsxs)("div",{className:"flex gap-x-4",children:[(0,jsx_runtime.jsx)(Button.$,{type:"button",className:"bg-red-700 hover:bg-red-800",onClick:()=>{delMemo(memo.id)},children:"Êú¨ÂΩì„Å´ÂâäÈô§"}),(0,jsx_runtime.jsx)(Button.$,{type:"button",className:"bg-gray-500 hover:bg-gray-600",onClick:closeDel,children:"„Ç≠„É£„É≥„Çª„É´"})]}):(0,jsx_runtime.jsx)(Button.$,{type:"button",className:"bg-red-500 hover:bg-red-600",onClick:()=>{openDel(memo.id)},children:"ÂâäÈô§"})})]}),(0,jsx_runtime.jsx)(Modal.a,{addClassPanel:"border-green-600 w-full",isOpen,enableCloseButton:!0,onClose:()=>{setIsOpen(!1)},children:(0,jsx_runtime.jsx)(Edit.f,{memo,closeModal:()=>{setIsOpen(!1)}})})]})};var _Normal_parameters,_Normal_parameters_docs,_Normal_parameters1,_Memo_parameters,_Memo_parameters_docs,_Memo_parameters1,_SortBoard_parameters,_SortBoard_parameters_docs,_SortBoard_parameters1;Memo.__docgenInfo={description:"",methods:[],displayName:"Memo",props:{memo:{required:!0,tsType:{name:"MemoData"},description:""},currentIdOpenDel:{required:!0,tsType:{name:"string"},description:""},setCurrentIdOpenDel:{required:!0,tsType:{name:"ReactDispatch",raw:"React.Dispatch<React.SetStateAction<string>>",elements:[{name:"ReactSetStateAction",raw:"React.SetStateAction<string>",elements:[{name:"string"}]}]},description:""}}};const meta={title:"FrostedGlass",component:FrostedGlass.w,decorators:[story=>(0,jsx_runtime.jsx)(es.bi,{children:story()})],tags:["autodocs"],argTypes:{className:{control:"text"},style:{control:"object"},children:{control:"text"}}},FrostedGlass_stories=meta,Normal={args:{className:"",children:"„ÉÜ„Ç≠„Çπ„Éà"}},demoMemo={id:"1",title:"Test",category:"etc",description:"example\nexample",date:"2100-01-01",markDiv:1},FrostedGlass_stories_Memo={args:{className:"break-words whitespace-pre-wrap w-full md:w-[calc(50%_-_0.5rem)]",children:(0,jsx_runtime.jsx)(Memo,{memo:demoMemo,currentIdOpenDel:"",setCurrentIdOpenDel:(0,dist.fn)()})},render:()=>(0,jsx_runtime.jsx)(Memo,{memo:demoMemo,currentIdOpenDel:"",setCurrentIdOpenDel:(0,dist.fn)()})},SortBoard={args:{className:"flex flex-wrap justify-around gap-4 w-fit mx-auto mb-4 p-6",children:""},render:param=>{let{...args}=param;const[sortIdDate,setSortIdDate]=(0,react.useState)("idAsc"),[pickDateDiff,setPickDateDiff]=(0,react.useState)("all"),[pickMarkDiv,setPickMarkDiv]=(0,react.useState)("-1"),handleSortIdDateChange=(0,react.useCallback)((event=>{var _sortIdDateRadio_find;const selectedSort=null!==(_sortIdDateRadio_find=_utils_const.dP.find((sort=>sort.value===event.target.value)))&&void 0!==_sortIdDateRadio_find?_sortIdDateRadio_find:{value:"idAsc",label:"IDÂ∞è„Åï„ÅÑÈ†Ü"};null!==selectedSort&&setSortIdDate(selectedSort.value)}),[]),handlePickDiffChange=(0,react.useCallback)((event=>{var _pickDateDiffRadio_find;const selectedPick=null!==(_pickDateDiffRadio_find=_utils_const.qh.find((sort=>sort.value===event.target.value)))&&void 0!==_pickDateDiffRadio_find?_pickDateDiffRadio_find:{value:"all",label:"ÂÖ®„Å¶"};null!==selectedPick&&setPickDateDiff(selectedPick.value)}),[]),handleMarkDivChange=(0,react.useCallback)((event=>{var _pickMarkDivRadio_find;const selectedPick=null!==(_pickMarkDivRadio_find=_utils_const.hP.find((sort=>sort.value===event.target.value)))&&void 0!==_pickMarkDivRadio_find?_pickMarkDivRadio_find:{value:"-1",label:"ÂÖ®„Å¶"};null!==selectedPick&&setPickMarkDiv(selectedPick.value)}),[]);return(0,jsx_runtime.jsxs)(meta.component,{...args,children:[(0,jsx_runtime.jsx)("div",{children:_utils_const.dP.map((item=>(0,jsx_runtime.jsxs)("label",{className:"mr-4",children:[(0,jsx_runtime.jsx)("input",{type:"radio",value:item.value,checked:sortIdDate===item.value,onChange:handleSortIdDateChange}),"¬†",item.label,(0,jsx_runtime.jsx)("br",{})]},item.value)))}),(0,jsx_runtime.jsx)("div",{children:_utils_const.qh.map((item=>(0,jsx_runtime.jsxs)("label",{className:"mr-4",children:[(0,jsx_runtime.jsx)("input",{type:"radio",value:item.value,checked:pickDateDiff===item.value,onChange:handlePickDiffChange}),"¬†",item.label,(0,jsx_runtime.jsx)("br",{})]},item.value)))}),(0,jsx_runtime.jsx)("div",{children:_utils_const.hP.map((item=>(0,jsx_runtime.jsxs)("label",{className:"mr-4",children:[(0,jsx_runtime.jsx)("input",{type:"radio",value:item.value,checked:pickMarkDiv===item.value,onChange:handleMarkDivChange}),"¬†",item.label,(0,jsx_runtime.jsx)("br",{})]},item.value)))}),(0,jsx_runtime.jsxs)("div",{className:"flex flex-col items-center justify-between gap-y-6",children:[(0,jsx_runtime.jsx)(Button.$,{type:"button",className:"self-center bg-yellow-500 hover:bg-yellow-600",style:{textShadow:"0.5px 0.5px 0 #000"},onClick:(0,dist.fn)(),children:"„Ç´„ÉÜ„Ç¥„É™„Éº"}),(0,jsx_runtime.jsx)(Button.$,{type:"button",className:"self-center bg-red-500 hover:bg-red-600",onClick:(0,dist.fn)(),children:"„Åæ„Å®„ÇÅ„Å¶ÂâäÈô§"})]})]})}};Normal.parameters={...Normal.parameters,docs:{...null===(_Normal_parameters=Normal.parameters)||void 0===_Normal_parameters?void 0:_Normal_parameters.docs,source:{originalSource:"{\n  args: {\n    className: '',\n    children: '„ÉÜ„Ç≠„Çπ„Éà'\n  }\n}",...null===(_Normal_parameters1=Normal.parameters)||void 0===_Normal_parameters1||null===(_Normal_parameters_docs=_Normal_parameters1.docs)||void 0===_Normal_parameters_docs?void 0:_Normal_parameters_docs.source}}},FrostedGlass_stories_Memo.parameters={...FrostedGlass_stories_Memo.parameters,docs:{...null===(_Memo_parameters=FrostedGlass_stories_Memo.parameters)||void 0===_Memo_parameters?void 0:_Memo_parameters.docs,source:{originalSource:'{\n  args: {\n    className: \'break-words whitespace-pre-wrap w-full md:w-[calc(50%_-_0.5rem)]\',\n    children: <MemoComponent memo={demoMemo} currentIdOpenDel="" setCurrentIdOpenDel={fn()} />\n  },\n  render: () => <MemoComponent memo={demoMemo} currentIdOpenDel="" setCurrentIdOpenDel={fn()} />\n}',...null===(_Memo_parameters1=FrostedGlass_stories_Memo.parameters)||void 0===_Memo_parameters1||null===(_Memo_parameters_docs=_Memo_parameters1.docs)||void 0===_Memo_parameters_docs?void 0:_Memo_parameters_docs.source}}},SortBoard.parameters={...SortBoard.parameters,docs:{...null===(_SortBoard_parameters=SortBoard.parameters)||void 0===_SortBoard_parameters?void 0:_SortBoard_parameters.docs,source:{originalSource:"{\n  args: {\n    className: 'flex flex-wrap justify-around gap-4 w-fit mx-auto mb-4 p-6',\n    children: ''\n  },\n  render: ({\n    ...args\n  }) => {\n    const [sortIdDate, setSortIdDate] = useState<SortIdDate>('idAsc');\n    const [pickDateDiff, setPickDateDiff] = useState<PickDateDiff>('all');\n    const [pickMarkDiv, setPickMarkDiv] = useState<PickMarkDiv>('-1');\n    const handleSortIdDateChange = useCallback((event: React.ChangeEvent<HTMLInputElement>): void => {\n      const selectedSort = sortIdDateRadio.find(sort => sort.value === event.target.value) ?? {\n        value: 'idAsc',\n        label: 'IDÂ∞è„Åï„ÅÑÈ†Ü'\n      };\n      if (selectedSort !== null) {\n        setSortIdDate(selectedSort.value);\n      }\n    }, []);\n    const handlePickDiffChange = useCallback((event: React.ChangeEvent<HTMLInputElement>): void => {\n      const selectedPick = pickDateDiffRadio.find(sort => sort.value === event.target.value) ?? {\n        value: 'all',\n        label: 'ÂÖ®„Å¶'\n      };\n      if (selectedPick !== null) {\n        setPickDateDiff(selectedPick.value);\n      }\n    }, []);\n    const handleMarkDivChange = useCallback((event: React.ChangeEvent<HTMLInputElement>): void => {\n      const selectedPick = pickMarkDivRadio.find(sort => sort.value === event.target.value) ?? {\n        value: '-1',\n        label: 'ÂÖ®„Å¶'\n      };\n      if (selectedPick !== null) {\n        setPickMarkDiv(selectedPick.value);\n      }\n    }, []);\n    return <meta.component {...args}>\r\n        <div>\r\n          {sortIdDateRadio.map(item => <label key={item.value} className=\"mr-4\">\r\n              <input type=\"radio\" value={item.value} checked={sortIdDate === item.value} onChange={handleSortIdDateChange} />\r\n              &nbsp;{item.label}\r\n              <br />\r\n            </label>)}\r\n        </div>\r\n        <div>\r\n          {pickDateDiffRadio.map(item => <label key={item.value} className=\"mr-4\">\r\n              <input type=\"radio\" value={item.value} checked={pickDateDiff === item.value} onChange={handlePickDiffChange} />\r\n              &nbsp;{item.label}\r\n              <br />\r\n            </label>)}\r\n        </div>\r\n        <div>\r\n          {pickMarkDivRadio.map(item => <label key={item.value} className=\"mr-4\">\r\n              <input type=\"radio\" value={item.value} checked={pickMarkDiv === item.value} onChange={handleMarkDivChange} />\r\n              &nbsp;{item.label}\r\n              <br />\r\n            </label>)}\r\n        </div>\r\n        <div className=\"flex flex-col items-center justify-between gap-y-6\">\r\n          <Button type=\"button\" className=\"self-center bg-yellow-500 hover:bg-yellow-600\" style={{\n          textShadow: '0.5px 0.5px 0 #000'\n        }} onClick={fn()}>\r\n            „Ç´„ÉÜ„Ç¥„É™„Éº\r\n          </Button>\r\n          <Button type=\"button\" className={`self-center bg-red-500 hover:bg-red-600`} onClick={fn()}>\r\n            „Åæ„Å®„ÇÅ„Å¶ÂâäÈô§\r\n          </Button>\r\n        </div>\r\n      </meta.component>;\n  }\n}",...null===(_SortBoard_parameters1=SortBoard.parameters)||void 0===_SortBoard_parameters1||null===(_SortBoard_parameters_docs=_SortBoard_parameters1.docs)||void 0===_SortBoard_parameters_docs?void 0:_SortBoard_parameters_docs.source}}};const __namedExportsOrder=["Normal","Memo","SortBoard"]}}]);